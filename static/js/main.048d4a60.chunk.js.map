{"version":3,"sources":["api/auth.js","components/contexts/AuthContext.js","pages/HomePage.jsx","components/common/auth.styled.js","assets/images/ac-logo.svg","assets/images/check-active.svg","assets/images/check-circle.svg","assets/images/check-hover.svg","components/AuthInput.jsx","components/Header.jsx","components/TodoInput.jsx","components/TodoItem.jsx","components/TodoCollection.jsx","components/Footer.jsx","pages/LoginPage.jsx","pages/SignUpPage.jsx","api/todos.js","pages/TodoPage.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["authURL","defaultAuthContext","isAuthenticated","currentMember","register","login","logout","AuthContext","createContext","useAuth","useContext","AuthProvider","_ref","children","setIsAuthenticated","useState","payload","setPayload","pathname","useLocation","useEffect","async","authToken","localStorage","getItem","isLogin","data","axios","get","concat","headers","Authorization","success","error","console","log","checkPermission","tempPayload","jwt","checkTokenIsValid","_jsx","Provider","value","id","sub","name","username","email","password","_ref2","post","setItem","removeItem","HomePage","navigate","useNavigate","Swal","fire","title","text","icon","confirmButtonText","timer","position","willClose","StyedContainer","styled","div","_templateObject","_taggedTemplateLiteral","StyledAuthInputContainer","_templateObject2","StyledButton","button","_templateObject3","StyledLinkText","_templateObject4","_path","_path2","_path3","_path4","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgAcLogo","svgRef","titleId","props","width","height","viewBox","fill","xmlns","ref","fillRule","clipRule","d","ForwardRef","StyledContainer","StyledLabel","label","StyledInput","input","AuthInput","type","placeholder","onChange","_jsxs","e","StyledHeader","header","StyledGreetingText","Header","StyledAddTodoContainer","StyledLabelIcon","StyledInputContainer","StyledAddTodoActionContainer","TodoInput","inputValue","onAddTodo","onKeyDown","className","clsx","active","htmlFor","onClick","StyledTaskItem","CheckActiveIcon","CheckCircleIcon","CheckHoverIcon","TodoItem","todo","onChangeMode","onSave","onDelete","onToggleDone","inputRef","useRef","done","isDone","edit","isEdit","onDoubleClick","defaultValue","current","TodoCollection","todos","map","_ref3","StyledFooter","footer","Footer","count","handleClick","LoginPage","setUsername","setPassword","setSuccess","AuthContainer","ACLogoIcon","AuthInputContainer","nameInputValue","passwordInputValue","AuthButton","Link","to","AuthLinkText","SignUpPage","setEmail","emailInputValue","baseUrl","axiosInstance","create","baseURL","interceptors","request","use","config","token","createTodo","patchTodo","patch","TodoPage","setInputValue","setTodos","res","getTodos","getTodosAsync","prevTodos","selectTodo","find","delete","deleteTodo","filter","App","BrowserRouter","basename","process","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"2dAEA,MAAMA,EAAU,0C,0BCGhB,MAAMC,EAAqB,CACzBC,iBAAiB,EACjBC,cAAe,KACfC,SAAU,KACVC,MAAO,KACPC,OAAQ,MAGJC,EAAcC,wBAAcP,GACrBQ,EAAUA,IAAMC,qBAAWH,GAC3BI,EAAeC,IAAmB,IAAlB,SAAEC,GAAUD,EACvC,MAAOV,EAAiBY,GAAsBC,mBAAS,OAChDC,EAASC,GAAcF,mBAAS,OACjC,SAAEG,GAAaC,cAqErB,OAtBAC,qBAAU,KAEkBC,WACxB,MAAMC,EAAYC,aAAaC,QAAQ,aACvC,IAAKF,EAGH,OAFAL,EAAW,WACXH,GAAmB,GAGrB,MAAMW,OD/BYJ,WACtB,IACE,MAAM,KAAEK,SAAeC,IAAMC,IAAI,GAADC,OAAI7B,EAAO,eAAe,CACxD8B,QAAS,CACPC,cAAc,UAADF,OAAYP,MAG7B,OAAOI,EAAKM,OAGd,CAFE,MAAOC,GACPC,QAAQC,IAAIF,EACd,GCqB0BG,CAAgBd,GACtC,GAAIG,EAAS,CACX,MAAMY,EAAcC,SAAWhB,GAC/BL,EAAWoB,GACXvB,GAAmB,EACrB,MACEG,EAAW,MACXH,GAAmB,EACrB,EAEFyB,EAAmB,GAClB,CAACrB,IAGFsB,cAACjC,EAAYkC,SAAQ,CACnBC,MAAO,CACLxC,kBACAC,cAAea,GAAW,CAExB2B,GAAI3B,EAAQ4B,IACZC,KAAM7B,EAAQ6B,MAEhBzC,SA7EmBiB,UAEvB,MAAM,QAAEW,EAAO,UAAEV,QDEJD,WAA0C,IAAnC,SAAEyB,EAAQ,MAAEC,EAAK,SAAEC,GAAUC,EACnD,IACE,MAAM,KAAEvB,SAAeC,IAAMuB,KAAK,GAADrB,OAAI7B,EAAO,aAAa,CACvD8C,WACAC,QACAC,cAGI,UAAE1B,GAAcI,EACtB,OAAIJ,EACK,CACLU,SAAS,KACNN,GAEAA,CAGT,CAFE,MAAOO,GACPC,QAAQC,IAAI,qBAAsBF,EACpC,GCnBuC7B,CAAS,CAC5C0C,SAAUpB,EAAKoB,SACfC,MAAOrB,EAAKqB,MACZC,SAAUtB,EAAKsB,WAEXX,EAAcC,SAAWhB,GAW/B,OAVIe,GAEFpB,EAAWoB,GACXvB,GAAmB,GACnBS,aAAa4B,QAAQ,YAAa7B,KAGlCL,EAAW,MACXH,GAAmB,IAEdkB,CAAO,EA4DV3B,MAzDgBgB,UAEpB,MAAM,QAAEW,EAAO,UAAEV,QDtCPD,WAAmC,IAA5B,SAAEyB,EAAQ,SAAEE,GAAUpC,EACzC,IACE,MAAM,KAAEc,SAAeC,IAAMuB,KAAK,GAADrB,OAAI7B,EAAO,UAAU,CACpD8C,WACAE,cAEI,UAAE1B,GAAcI,EAEtB,OADAQ,QAAQC,IAAIT,GACRJ,EACK,CACLU,SAAS,KACNN,GAEAA,CAGT,CAFE,MAAOO,GACPC,QAAQC,IAAI,kBAAmBF,EACjC,GCsBuC5B,CAAM,CACzCyC,SAAUpB,EAAKoB,SACfE,SAAUtB,EAAKsB,WAEXX,EAAcC,SAAWhB,GAW/B,OAVIe,GAEFpB,EAAWoB,GACXvB,GAAmB,GACnBS,aAAa4B,QAAQ,YAAa7B,KAGlCL,EAAW,MACXH,GAAmB,IAEdkB,CAAO,EAyCV1B,OAvCiBe,UACrBE,aAAa6B,WAAW,aACxBnC,EAAW,MACXH,GAAmB,EAAM,GAqCrBD,SAEDA,GACoB,E,4BCjEZwC,I,QAAAA,EAhCEA,KACf,MAAM,gBAAEnD,GAAoBO,IACtB6C,EAAWC,cACjBnC,qBAAU,KACJlB,EACFsD,IAAKC,KAAK,CACRC,MAAO,4BACPC,KAAM,iEACNC,KAAM,UACNC,kBAAmB,eACnBC,MAAO,IACPC,SAAU,MACVC,UAAWA,KACTV,EAAS,QAAQ,KAGM,IAAlBpD,GACTsD,IAAKC,KAAK,CACRC,MAAO,4BACPC,KAAM,iEACNC,KAAM,UACNC,kBAAmB,eACnBC,MAAO,IACPC,SAAU,MACVC,UAAWA,KACTV,EAAS,SAAS,GAGxB,GACC,CAACpD,GAAiB,E,cChCvB,MAAM+D,EAAiBC,IAAOC,IAAGC,MAAAC,YAAA,oJAS3BC,EAA2BJ,IAAOC,IAAGI,MAAAF,YAAA,8CAKrCG,EAAeN,IAAOO,OAAMC,MAAAL,YAAA,4RAiB5BM,EAAiBT,IAAOC,IAAGS,MAAAP,YAAA,sECjCjC,IAAIQ,EAAOC,EAAQC,EAAQC,EAC3B,SAASC,IAAiS,OAApRA,EAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAUJ,EAASa,MAAMC,KAAMR,UAAY,CAElV,SAASS,EAAUpF,EAAMqF,GACvB,IAAI,MACFvC,EAAK,QACLwC,KACGC,GACDvF,EACJ,OAAoB,gBAAoB,MAAOqE,EAAS,CACtDmB,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKR,EACL,kBAAmBC,GAClBC,GAAQzC,EAAqB,gBAAoB,QAAS,CAC3Df,GAAIuD,GACHxC,GAAS,KAAMmB,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3E6B,SAAU,UACVC,SAAU,UACVC,EAAG,mKACHL,KAAM,aACHzB,IAAWA,EAAsB,gBAAoB,OAAQ,CAChE4B,SAAU,UACVC,SAAU,UACVC,EAAG,mWACHL,KAAM,aACHxB,IAAWA,EAAsB,gBAAoB,OAAQ,CAChE2B,SAAU,UACVC,SAAU,UACVC,EAAG,kMACHL,KAAM,aACHvB,IAAWA,EAAsB,gBAAoB,OAAQ,CAChE0B,SAAU,UACVC,SAAU,UACVC,EAAG,ubACHL,KAAM,aAEV,CACA,MAAMM,EAA0B,aAAiBb,GAClC,Q,MC1CA,MAA0B,yCCA1B,MAA0B,yCCA1B,MAA0B,wCCEzC,MAAMc,EAAkB5C,IAAOC,IAAGC,MAAAC,YAAA,2LAS5B0C,EAAc7C,IAAO8C,MAAKzC,MAAAF,YAAA,uEAM1B4C,EAAc/C,IAAOgD,MAAKxC,MAAAL,YAAA,kGAuBjB8C,I,IAAAA,EAhBGvG,IAAoD,IAAnD,KAAEwG,EAAI,MAAEJ,EAAK,MAAEtE,EAAK,YAAE2E,EAAW,SAAEC,GAAU1G,EAC9D,OACE2G,eAACT,EAAe,CAAAjG,SAAA,CACd2B,cAACuE,EAAW,CAAAlG,SAAEmG,IACdxE,cAACyE,EAAW,CACVG,KAAMA,EACNC,YAAaA,EACb3E,MAAOA,EACP4E,SAAWE,IACD,OAARF,QAAQ,IAARA,KAAWE,EAAEnC,OAAO3C,MAAM,MAGd,EClCtB,MAAM+E,EAAevD,IAAOwD,OAAMtD,MAAAC,YAAA,mMAc5BsD,EAAqBzD,IAAOC,IAAGI,MAAAF,YAAA,0EAkBtBuD,I,SAAAA,GAXAhH,IAAiB,IAAhB,SAACkC,GAASlC,EACxB,OACE2G,eAACE,EAAY,CAAA5G,SAAA,CACX2B,cAAA,MAAA3B,SAAI,UACJ0G,eAACI,EAAkB,CAAA9G,SAAA,CAAC,MACf2B,cAAA,QAAA3B,SAAOiC,SAEC,E,SC3BnB,MAAM+E,GAAyB3D,IAAOC,IAAGC,MAAAC,YAAA,uSAgBnCyD,GAAkB5D,IAAO8C,MAAKzC,MAAAF,YAAA,uJAW9B0D,GAAuB7D,IAAOC,IAAGO,MAAAL,YAAA,4XA0BjC2D,GAA+B9D,IAAOC,IAAGS,QAAAP,YAAA,yLA+ChC4D,I,GAAAA,GAjCGrH,IAAqD,IAApD,WAAEsH,EAAU,SAAEZ,EAAQ,UAAEa,EAAS,UAAEC,GAAWxH,EAC/D,OACE2G,eAACM,GAAsB,CACrBQ,UAAWC,aAAK,GAAI,CAAEC,OAAQL,EAAW1C,OAAS,IAAK3E,SAAA,CAEvD2B,cAACsF,GAAe,CAACO,UAAU,OAAOG,QAAQ,mBAC1ChG,cAACuF,GAAoB,CAAAlH,SACnB2B,cAAA,SACEG,GAAG,iBACHyE,KAAK,OACLC,YAAY,2BACZ3E,MAAOwF,EACPZ,SAAWE,IACD,OAARF,QAAQ,IAARA,KAAWE,EAAEnC,OAAO3C,MAAM,EAE5B0F,UAAYZ,IACI,UAAVA,EAAE9B,MACK,OAAT0C,QAAS,IAATA,OACF,MAIN5F,cAACwF,GAA4B,CAC3BK,UAAWC,aAAK,GAAI,CAAEC,OAAQL,EAAW1C,OAAS,IAAK3E,SAEvD2B,cAAA,UAAQ6F,UAAU,YAAYI,QAASA,IAAe,OAATN,QAAS,IAATA,OAAS,EAATA,IAActH,SAAC,qBAIvC,EC3F7B,MAAM6H,GAAiBxE,IAAOC,IAAGC,QAAAC,YAAA,4oDA0CHsE,EA0CFC,EAMEC,GAiDfC,OA5CElI,IAA6D,IAA5D,KAAEmI,EAAI,aAAEC,EAAY,OAAEC,EAAM,SAAEC,EAAQ,aAAEC,GAAcvI,EACtE,MAAMwI,EAAWC,iBAAO,MAWxB,OACE9B,eAACmB,GAAc,CACbL,UAAWC,aAAK,GAAI,CAAEgB,KAAMP,EAAKQ,QAAU,CAAEC,KAAMT,EAAKU,SAAU5I,SAAA,CAElE2B,cAAA,OAAK6F,UAAU,oBAAmBxH,SAChC2B,cAAA,QACEG,GAAIoG,EAAKpG,GACT0F,UAAU,oBACVI,QAASA,IAAkB,OAAZU,QAAY,IAAZA,OAAY,EAAZA,EAAeJ,EAAKpG,QAGvC4E,eAAA,OACEc,UAAU,iBACVqB,cAAeA,IAAkB,OAAZV,QAAY,IAAZA,OAAY,EAAZA,EAAe,CAAErG,GAAIoG,EAAKpG,GAAI8G,QAAQ,IAAQ5I,SAAA,CAEnE2B,cAAA,QAAM6F,UAAU,sBAAqBxH,SAAEkI,EAAKrF,QAC5ClB,cAAA,SACE6F,UAAU,uBACVsB,aAAcZ,EAAKrF,MACnB0E,UA7BeZ,IACrBtF,QAAQC,IAAIqF,EAAE9B,KACA,UAAV8B,EAAE9B,KAAmB0D,EAASQ,QAAQlH,MAAM8C,OAAS,IACjD,OAANyD,QAAM,IAANA,KAAS,CAAEtG,GAAIoG,EAAKpG,GAAIe,MAAO0F,EAASQ,QAAQlH,SAEpC,WAAV8E,EAAE9B,MACJ0D,EAASQ,QAAQlH,MAAQqG,EAAKrF,MAClB,OAAZsF,QAAY,IAAZA,KAAe,CAAErG,GAAIoG,EAAKpG,GAAI8G,QAAQ,IACxC,EAsBMhD,IAAK2C,OAGT5G,cAAA,OAAK6F,UAAU,oBAAmBxH,SAChC2B,cAAA,UAAQ6F,UAAU,6BAA6BI,QAASA,KAC9C,OAARS,QAAQ,IAARA,KAAWH,EAAKpG,GAAG,EACnB9B,SAAC,UAEU,EChHNgJ,I,MAAAA,GA7BQjJ,IAMhB,IANiB,MACtBkJ,EAAK,aACLd,EAAY,OACZC,EAAM,SACNC,EAAQ,aACRC,GACDvI,EACC,OACE4B,cAAA,OAAA3B,SACGiJ,EAAMC,KAAKhB,GAERvG,cAACsG,GAAQ,CAEPC,KAAMA,EACNI,aAAexG,GAAmB,OAAZwG,QAAY,IAAZA,OAAY,EAAZA,EAAexG,GACrCqG,aAAc/F,IAAqB,IAApB,GAAEN,EAAE,OAAE8G,GAAQxG,EACf,OAAZ+F,QAAY,IAAZA,KAAe,CAAErG,KAAI8G,UAAS,EAEhCR,OAAQe,IAAoB,IAAnB,GAAErH,EAAE,MAAEe,GAAOsG,EACd,OAANf,QAAM,IAANA,KAAS,CAAEtG,KAAIe,SAAQ,EAEzBwF,SAAWvG,GAAe,OAARuG,QAAQ,IAARA,OAAQ,EAARA,EAAWvG,IATxBoG,EAAKpG,OAaZ,ECtBV,MAAMsH,GAAe/F,IAAOgG,OAAM9F,QAAAC,YAAA,wKAY5BG,GAAeN,IAAOO,OAAMF,QAAAF,YAAA,sVA4CnB8F,OAzBAvJ,IAAgB,IAAf,MAAEwJ,GAAOxJ,EACvB,MAAM,OAAEN,GAAWG,IACb6C,EAAWC,cAejB,OACEgE,eAAC0C,GAAY,CAAApJ,SAAA,CACX0G,eAAA,KAAA1G,SAAA,CAAG,uCAAOuJ,KACV5H,cAACgC,GAAY,CAACiE,QAjBE4B,KAClB7G,IAAKC,KAAK,CACRC,MAAO,sBACPC,KAAM,iEACNC,KAAM,UACNC,kBAAmB,eACnBC,MAAO,IACPC,SAAU,MACVC,UAAWA,KACT1D,IACAgD,EAAS,SAAS,GAEpB,EAKmCzC,SAAC,mBACvB,E,SC6CJyJ,OA1FGA,KAChB,MAAMhH,EAAWC,eACVT,EAAUyH,GAAexJ,mBAAS,KAClCiC,EAAUwH,GAAezJ,mBAAS,KACnC,MAAEV,EAAK,gBAAEH,GAAoBO,KAC5BuB,EAASyI,GAAc1J,oBAAS,GA+CvC,OA7BAK,qBAAU,KACJlB,IACE8B,EACFwB,IAAKC,KAAK,CACRC,MAAO,sBACPC,KAAM,iEACNC,KAAM,UACNC,kBAAmB,eACnBC,MAAO,IACPC,SAAU,MACVC,UAAWA,KACTV,EAAS,QAAQ,IAIrBE,IAAKC,KAAK,CACRC,MAAO,8CACPC,KAAM,iEACNC,KAAM,UACNC,kBAAmB,eACnBC,MAAO,IACPC,SAAU,MACVC,UAAWA,KACTV,EAAS,QAAQ,IAIzB,GACC,CAACtB,EAAS9B,IAEXqH,eAACmD,EAAa,CAAA7J,SAAA,CACZ2B,cAAA,OAAA3B,SACE2B,cAACmI,EAAU,MAEbnI,cAAA,MAAA3B,SAAI,sBAEJ2B,cAACoI,EAAkB,CAAA/J,SACjB2B,cAAC2E,EAAS,CACRH,MAAM,eACNK,YAAY,iCACZ3E,MAAOI,EACPwE,SAAWuD,IACTN,EAAYM,EAAe,MAKjCrI,cAACoI,EAAkB,CAAA/J,SACjB2B,cAAC2E,EAAS,CACRC,KAAK,WACLJ,MAAM,eACNK,YAAY,iCACZ3E,MAAOM,EACPsE,SAAWwD,IACTN,EAAYM,EAAmB,MAIrCtI,cAACuI,EAAU,CAACtC,QA3EIpH,UACdyB,EAAS0C,OAAS,GAAKxC,EAASwC,OAAS,IAC7CiF,QACQpK,EAAM,CACVyC,WACAE,cAGJQ,IAAKC,KAAK,CACRC,MAAO,4BACPC,KAAM,6CACNC,KAAM,QACNC,kBAAmB,eACnBC,MAAO,IACPC,SAAU,QACV,EA4DiClD,SAAC,iBAElC2B,cAACwI,KAAI,CAACC,GAAG,UAASpK,SAChB2B,cAAC0I,EAAY,CAAArK,SAAC,qBAEF,ECsBLsK,OA3GIA,KACjB,MAAOrI,EAAUyH,GAAexJ,mBAAS,KAClCiC,EAAUwH,GAAezJ,mBAAS,KAClCgC,EAAOqI,GAAYrK,mBAAS,KAC5BiB,EAASyI,GAAc1J,oBAAS,GACjCuC,EAAWC,eACX,SAAEnD,EAAQ,gBAAEF,GAAoBO,IAoDtC,OA9BAW,qBAAU,KACJlB,IACE8B,EACFwB,IAAKC,KAAK,CACRC,MAAO,4BACPC,KAAM,iEACNC,KAAM,UACNC,kBAAmB,eACnBC,MAAO,IACPC,SAAU,MACVC,UAAWA,KACTV,EAAS,QAAQ,IAIrBE,IAAKC,KAAK,CACRC,MAAO,8CACPC,KAAM,iEACNC,KAAM,UACNC,kBAAmB,eACnBC,MAAO,IACPC,SAAU,MACVC,UAAWA,KACTV,EAAS,QAAQ,IAIzB,GACC,CAACtB,EAAS9B,IAGXqH,eAACmD,EAAa,CAAA7J,SAAA,CACZ2B,cAAA,OAAA3B,SACE2B,cAACmI,EAAU,MAEbnI,cAAA,MAAA3B,SAAI,yCAEJ2B,cAACoI,EAAkB,CAAA/J,SACjB2B,cAAC2E,EAAS,CACRH,MAAM,eACNK,YAAY,iCACZ3E,MAAOI,EACPwE,SAAWuD,IACTN,EAAYM,EAAe,MAKjCrI,cAACoI,EAAkB,CAAA/J,SACjB2B,cAAC2E,EAAS,CACRH,MAAM,eACNK,YAAY,iCACZ3E,MAAOK,EACPuE,SAAW+D,IACTD,EAASC,EAAgB,MAK/B7I,cAACoI,EAAkB,CAAA/J,SACjB2B,cAAC2E,EAAS,CACRC,KAAK,WACLJ,MAAM,eACNK,YAAY,iCACZ3E,MAAOM,EACPsE,SAAWwD,IACTN,EAAYM,EAAmB,MAKrCtI,cAACuI,EAAU,CAACtC,QA5FIpH,UACdyB,EAAS0C,OAAS,GAAMxC,EAASwC,OAAS,GAAKzC,EAAMyC,OAAS,IAGlEiF,QACQrK,EAAS,CACb0C,WACAC,QACAC,cAGJQ,IAAKC,KAAK,CACRC,MAAO,4BACPC,KAAM,sEACNC,KAAM,QACNC,kBAAmB,eACnBC,MAAO,IACPC,SAAU,QACV,EA0EiClD,SAAC,iBAClC2B,cAACwI,KAAI,CAACC,GAAG,SAAQpK,SACf2B,cAAC0I,EAAY,CAAArK,SAAC,qBAEF,EClHpB,MAAMyK,GAAU,qCAEVC,GAAgB5J,IAAM6J,OAAO,CACjCC,QAASH,KAGXC,GAAcG,aAAaC,QAAQC,KAChCC,IACC,MAAMC,EAAQvK,aAAaC,QAAQ,aAEnC,OADIsK,IAAOD,EAAO/J,QAAuB,cAAC,UAAAD,OAAaiK,IAChDD,CAAM,IAEd5J,GAAUC,QAAQC,IAAIF,KAGzB,MAUM8J,GAAa1K,UACjB,IACE,MAAM,MAAEqC,EAAK,OAAE6F,GAAWvI,EAM1B,aAJkBuK,GAAcrI,KAAK,GAADrB,OAAIyJ,GAAO,WAAW,CACxD5H,QACA6F,YAES7H,IAGb,CAFE,MAAOO,GACPC,QAAQC,IAAI,sBAAuBF,EACrC,GAEI+J,GAAY3K,UAChB,MAAM,MAAEqC,EAAK,GAAEf,EAAE,OAAE4G,GAAWvI,EAC9B,IAME,aALkBuK,GAAcU,MAAM,GAADpK,OAAIyJ,GAAO,WAAAzJ,OAAUc,GAAM,CAC9De,QACAf,KACA4G,YAES7H,IAGb,CAFE,MAAOO,GACPC,QAAQC,IAAI,uBAAwBF,EACtC,GCkHaiK,OA/JEA,KACf,MAAOhE,EAAYiE,GAAiBpL,mBAAS,KACtC+I,EAAOsC,GAAYrL,mBAAS,IAC7BuC,EAAWC,eACX,gBAAErD,EAAe,cAAEC,GAAkBM,IAqI3C,OA9BAW,qBAAU,KACcC,WACpB,IACE,MAAMyI,ODnGGzI,WACf,IACE,MAAMgL,QAAYd,GAAc3J,IAAI,GAADC,OAAIyJ,GAAO,WAE9C,OADApJ,QAAQC,IAAIkK,GACLA,EAAI3K,KAAKA,IAGlB,CAFE,MAAOO,GACPC,QAAQC,IAAI,qBAAsBF,EACpC,GC4F0BqK,GACpBF,EACEtC,EAAMC,KAAKhB,IACF,IAAKA,EAAMU,QAAQ,MAKhC,CAFE,MAAOxH,GACPC,QAAQC,IAAIF,EACd,GAEFsK,EAAe,GACd,IACHnL,qBAAU,MACgB,IAApBlB,GACFsD,IAAKC,KAAK,CACRC,MAAO,sBACPC,KAAM,iEACNC,KAAM,UACNC,kBAAmB,eACnBC,MAAO,IACPC,SAAU,MACVC,UAAWA,KACTV,EAAS,SAAS,GAGxB,GACC,CAACpD,IAEFqH,eAAA,OAAA1G,SAAA,CAAK,WAEH2B,cAACoF,GAAM,CAAC9E,SAAuB,OAAb3C,QAAa,IAAbA,OAAa,EAAbA,EAAe0C,OACjCL,cAACyF,GAAS,CACRC,WAAYA,EACZZ,SA1IgB5E,IACpByJ,EAAczJ,EAAM,EA0IhByF,UAxIgB9G,UACpB,GAA0B,IAAtB6G,EAAW1C,OACf,IACE,MAAM9D,QAAaqK,GAAW,CAC5BrI,MAAOwE,EACPqB,QAAQ,IAEV6C,GAAUI,GACD,IACFA,EACH,CACE9I,MAAOhC,EAAKgC,MACZ6F,OAAQ7H,EAAK6H,OACb5G,GAAIjB,EAAKiB,GACT8G,QAAQ,MAId0C,EAAc,GAGhB,CAFE,MAAOlK,GACPC,QAAQC,IAAIF,EACd,GAoHImG,UAlHgB/G,UACpB,GAA0B,IAAtB6G,EAAW1C,OACf,IACE,MAAM9D,QAAaqK,GAAW,CAC5BrI,MAAOwE,EACPqB,QAAQ,IAEV6C,GAAUI,GACD,IACFA,EACH,CACE9I,MAAOhC,EAAKgC,MACZ6F,OAAQ7H,EAAK6H,OACb5G,GAAIjB,EAAKiB,GACT8G,QAAQ,MAId0C,EAAc,GAGhB,CAFE,MAAOlK,GACPC,QAAQC,IAAIF,EACd,KA+FEO,cAACqH,GAAc,CACbC,MAAOA,EACPX,aA/FmB9H,UACvB,MAAMoL,EAAa3C,EAAM4C,MAAM3D,GAASA,EAAKpG,KAAOA,IACpD,UACQqJ,GAAU,CAAErJ,KAAI4G,QAASkD,EAAWlD,SAC1C6C,GAAUtC,GACDA,EAAMC,KAAKhB,GACZA,EAAKpG,KAAOA,EACP,IACFoG,EACHQ,QAASR,EAAKQ,QAGXR,KAKb,CAFE,MAAO9G,GACPC,QAAQC,IAAIF,EACd,GA+EI+G,aA7EmBpI,IAAqB,IAApB,GAAE+B,EAAE,OAAE8G,GAAQ7I,EACtCwL,GAAUtC,GACDA,EAAMC,KAAKhB,GACZA,EAAKpG,KAAOA,EAAW,IAAKoG,EAAMU,OAAQA,GACvC,IAAKV,EAAMU,QAAQ,MAE5B,EAwEER,OAtEa5H,UAA0B,IAAnB,GAAEsB,EAAE,MAAEe,GAAOT,EACrC,UACQ+I,GAAU,CAAErJ,KAAIe,UACtB0I,GAAUtC,GACDA,EAAMC,KAAKhB,GACZA,EAAKpG,KAAOA,EAAW,IAAKoG,EAAMrF,MAAOA,EAAO+F,QAAQ,GACrDV,KAKb,CAFE,MAAO9G,GACPC,QAAQC,IAAIF,EACd,GA4DIiH,SA1De7H,UACnB,SDhDeA,WACjB,IAEE,aADkBkK,GAAcoB,OAAO,GAAD9K,OAAIyJ,GAAO,WAAAzJ,OAAUc,KAChDjB,IAGb,CAFE,MAAOO,GACPC,QAAQC,IAAI,wBAAyBF,EACvC,GC2CU2K,CAAWjK,GACjByJ,GAAUtC,GACDA,EAAM+C,QAAQ9D,GACZA,EAAKpG,KAAOA,KAKzB,CAFE,MAAOV,GACPC,QAAQC,IAAIF,EACd,KAkDEO,cAAC2H,GAAM,CAACC,MAAON,EAAMtE,WACjB,ECzIKsH,OAnBf,WAEE,OACEtK,cAAA,OAAK6F,UAAU,MAAKxH,SAClB2B,cAACuK,KAAa,CAACC,SAHFC,2BAGqBpM,SAChC2B,cAAC7B,EAAY,CAAAE,SACX0G,eAAC2F,IAAM,CAAArM,SAAA,CACL2B,cAAC2K,IAAK,CAACC,KAAK,QAAQC,QAAS7K,cAAC8H,GAAS,MACvC9H,cAAC2K,IAAK,CAACC,KAAK,SAASC,QAAS7K,cAAC2I,GAAU,MACzC3I,cAAC2K,IAAK,CAACC,KAAK,OAAOC,QAAS7K,cAAC0J,GAAQ,MACrC1J,cAAC2K,IAAK,CAACC,KAAK,IAAIC,QAAS7K,cAACa,EAAQ,MAClCb,cAAC2K,IAAK,YAMlB,ECVeG,OAZSC,IAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK7M,IAAkD,IAAjD,OAAE8M,EAAM,OAAEC,EAAM,OAAEC,EAAM,OAAEC,EAAM,QAAEC,GAASlN,EACpE8M,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,EAAY,GAExB,ECHWQ,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACH3L,cAAC4L,IAAMC,WAAU,CAAAxN,SACf2B,cAACsK,GAAG,OAORQ,I","file":"static/js/main.048d4a60.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst authURL = 'https://todo-list.alphacamp.io/api/auth';\r\n\r\nconst login = async ({ username, password }) => {\r\n  try {\r\n    const { data } = await axios.post(`${authURL}/login`, {\r\n      username,\r\n      password,\r\n    });\r\n    const { authToken } = data;\r\n    console.log(data);\r\n    if (authToken)\r\n      return {\r\n        success: true,\r\n        ...data,\r\n      };\r\n    return data;\r\n  } catch (error) {\r\n    console.log('[Login Failed]:', error);\r\n  }\r\n};\r\n\r\nconst register = async ({ username, email, password }) => {\r\n  try {\r\n    const { data } = await axios.post(`${authURL}/register`, {\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n\r\n    const { authToken } = data;\r\n    if (authToken)\r\n      return {\r\n        success: true,\r\n        ...data,\r\n      };\r\n    return data;\r\n  } catch (error) {\r\n    console.log('[Register Failed]:', error);\r\n  }\r\n};\r\n\r\nconst checkPermission = async (authToken) => {\r\n  try {\r\n    const { data } = await axios.get(`${authURL}/test-token`, {\r\n      headers: {\r\n        Authorization: `Bearer ${authToken}`,\r\n      },\r\n    });\r\n    return data.success;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport { login, register, checkPermission };\r\n","import { createContext, useContext, useEffect, useState } from 'react';\r\nimport { checkPermission, login, register } from 'api/auth';\r\nimport * as jwt from 'jsonwebtoken';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst defaultAuthContext = {\r\n  isAuthenticated: false, // 注意這邊先不設置false 以防止effect早於context執行\r\n  currentMember: null, // 當前使用者相關資料，預設為 null，成功登入後就會有使用者資料\r\n  register: null, // 註冊方法\r\n  login: null, // 登入方法\r\n  logout: null, // 登入方法\r\n}; // 注意 這邊只是先定義物件屬性 實際上這邊的值會被下面狀態取代，這意味著就算你把這裡整段刪掉都沒關系\r\n\r\nconst AuthContext = createContext(defaultAuthContext);\r\nexport const useAuth = () => useContext(AuthContext);\r\nexport const AuthProvider = ({ children }) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(null); // 在這支context裡面掛載驗證成功或失敗，注意這邊先不設置false 以防止effect早於context執行\r\n  const [payload, setPayload] = useState(null); // 在這支context裡面掛載使用者payload\r\n  const { pathname } = useLocation();\r\n  const providerRegister = async (data) => {\r\n    // data 為使用者傳入的註冊資料\r\n    const { success, authToken } = await register({\r\n      username: data.username,\r\n      email: data.email,\r\n      password: data.password,\r\n    });\r\n    const tempPayload = jwt.decode(authToken); // 將註冊後得到的token解碼\r\n    if (tempPayload) {\r\n      // 若解碼成功 將驗證成功及此payload掛載context\r\n      setPayload(tempPayload);\r\n      setIsAuthenticated(true);\r\n      localStorage.setItem('authToken', authToken); // token 存放於本機空間 重啟瀏覽器時仍保留token，用此token丟進context進行驗證\r\n    } else {\r\n      // 驗證失敗 清空\r\n      setPayload(null);\r\n      setIsAuthenticated(false);\r\n    }\r\n    return success;\r\n  };\r\n\r\n  const providerLogin = async (data) => {\r\n    // data 為使用者傳入的登入資料\r\n    const { success, authToken } = await login({\r\n      username: data.username,\r\n      password: data.password,\r\n    });\r\n    const tempPayload = jwt.decode(authToken); // 將登入後得到的token解碼\r\n    if (tempPayload) {\r\n      // 若解碼成功 將驗證成功及此payload掛載context\r\n      setPayload(tempPayload);\r\n      setIsAuthenticated(true);\r\n      localStorage.setItem('authToken', authToken);\r\n    } else {\r\n      // 驗證失敗 清空\r\n      setPayload(null);\r\n      setIsAuthenticated(false);\r\n    }\r\n    return success;\r\n  };\r\n  const providerLogout = async () => {\r\n    localStorage.removeItem('authToken');\r\n    setPayload(null);\r\n    setIsAuthenticated(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // 這個東西會在provider包覆層根據pathname變化自動執行\r\n    const checkTokenIsValid = async () => {\r\n      const authToken = localStorage.getItem('authToken');\r\n      if (!authToken) {\r\n        setPayload(null);\r\n        setIsAuthenticated(false);\r\n        return;\r\n      }\r\n      const isLogin = await checkPermission(authToken);\r\n      if (isLogin) {\r\n        const tempPayload = jwt.decode(authToken);\r\n        setPayload(tempPayload);\r\n        setIsAuthenticated(true);\r\n      } else {\r\n        setPayload(null);\r\n        setIsAuthenticated(false);\r\n      }\r\n    };\r\n    checkTokenIsValid();\r\n  }, [pathname]); // 當網址變更時pathname會變更 觸發effect驗證機制\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        isAuthenticated,\r\n        currentMember: payload && {\r\n          // 先檢查payload使否存在 再取值\r\n          id: payload.sub, // 依據後端jwt sign時payload.sub 為使用者id\r\n          name: payload.name, // 依據後端jwt sign 時 payload.name 為使用者name\r\n        },\r\n        register: providerRegister,\r\n        login: providerLogin,\r\n        logout: providerLogout,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import { useAuth } from 'components/contexts/AuthContext';\r\nimport { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst HomePage = () => {\r\n  const { isAuthenticated } = useAuth();\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      Swal.fire({\r\n        title: '即將跳轉!',\r\n        text: '頁面將在2秒後自動跳轉!',\r\n        icon: 'success',\r\n        confirmButtonText: '繼續',\r\n        timer: 2000,\r\n        position: 'top',\r\n        willClose: () => {\r\n          navigate('/todo');\r\n        },\r\n      });\r\n    } else if (isAuthenticated===false) {\r\n      Swal.fire({\r\n        title: '即將跳轉!',\r\n        text: '頁面將在2秒後自動跳轉!',\r\n        icon: 'success',\r\n        confirmButtonText: '繼續',\r\n        timer: 2000,\r\n        position: 'top',\r\n        willClose: () => {\r\n          navigate('/login');\r\n        },\r\n      });\r\n    }\r\n  }, [isAuthenticated]);\r\n};\r\n\r\nexport default HomePage;\r\n","import styled from 'styled-components';\r\n\r\nconst StyedContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 50px;\r\n`;\r\n\r\nconst StyledAuthInputContainer = styled.div`\r\n  width: 50%;\r\n  margin-top: 30px;\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n  border-radius: 30px;\r\n  background-color: #ff6600;\r\n  border: none;\r\n  cursor:pointer;\r\n  color: white;\r\n  min-width: 300px;\r\n  font-family: 'Noto Sans TC', sans-serif;\r\n  font-weight: bold;\r\n  padding: 6px 0;\r\n  margin: 2rem 0;\r\n\r\n  &.hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst StyledLinkText = styled.div`\r\n  color: #0062ff;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n`;\r\n\r\nexport {\r\n  StyedContainer as AuthContainer,\r\n  StyledAuthInputContainer as AuthInputContainer,\r\n  StyledButton as AuthButton,\r\n  StyledLinkText as AuthLinkText,\r\n};\r\n","var _path, _path2, _path3, _path4;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgAcLogo(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M25.6996 18.4709C25.6996 18.4709 18.2328 30.5781 12.1109 30.5781C1.40314 30.5781 11.3821 7.51318 19.1916 7.51318C24.641 7.51318 25.6996 18.4709 25.6996 18.4709Z\",\n    fill: \"#FF6600\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M34.5723 33.6972C32.4451 35.9607 29.8198 37.6976 26.9044 38.7701C23.989 39.8426 20.8639 40.2213 17.7767 39.8761C14.6895 39.5309 11.7252 38.4713 9.11881 36.7813C6.51245 35.0914 4.33573 32.8175 2.76123 30.1401C4.5314 32.5477 7.53375 34.1527 11.803 34.1527C22.3199 34.1527 28.2899 25.98 28.2899 25.98C28.2899 25.98 28.8062 32.4392 34.5593 33.6972H34.5723Z\",\n    fill: \"#FF6600\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M37.7223 10.7451C39.2963 13.7527 40.0781 17.1116 39.9939 20.505C39.9096 23.8984 38.9621 27.2144 37.2407 30.1401C35.8792 29.3764 34.8725 28.1082 34.4379 26.609L32.1558 19.7724L37.7223 10.7451Z\",\n    fill: \"#FF6600\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M20.0031 0.0173688C25.0185 0.0140335 29.8513 1.89881 33.5398 5.29665L29.7521 11.4088C28.3811 7.84302 25.5957 4.2729 20.1767 4.2729C9.07841 4.2729 0.852307 16.3888 0.852307 23.9846C0.849861 24.9669 0.975283 25.9454 1.22543 26.8953C0.115582 23.8725 -0.247948 20.6265 0.165719 17.4331C0.579385 14.2398 1.75802 11.1934 3.60147 8.55306C5.44491 5.91269 7.89866 3.75634 10.7542 2.26726C13.6097 0.778179 16.7826 0.000388507 20.0031 0V0.0173688Z\",\n    fill: \"#FF6600\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgAcLogo);\nexport default __webpack_public_path__ + \"static/media/ac-logo.eea79863.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/check-active.680985db.svg\";","export default __webpack_public_path__ + \"static/media/check-circle.ad8591fd.svg\";","export default __webpack_public_path__ + \"static/media/check-hover.f1b1bcfd.svg\";","import styled from 'styled-components';\r\n\r\nconst StyledContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  background-color: #f5f8fa;\r\n  width: 100%;\r\n  height: 54px;\r\n  border-bottom: 2px solid black;\r\n`;\r\nconst StyledLabel = styled.label`\r\n  font-size: 14;\r\n  color: '#696974';\r\n  text-align: start;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  outline: none;\r\n  border: none;\r\n  background-color: #f5f8fa;\r\n  border-radius: 0px;\r\n`;\r\n\r\nconst AuthInput = ({ type, label, value, placeholder, onChange }) => {\r\n  return (\r\n    <StyledContainer>\r\n      <StyledLabel>{label}</StyledLabel>\r\n      <StyledInput\r\n        type={type}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={(e) => {\r\n          onChange?.(e.target.value);\r\n        }}\r\n      />\r\n    </StyledContainer>\r\n  );\r\n};\r\n\r\nexport default AuthInput;\r\n","import styled from 'styled-components';\r\n\r\nconst StyledHeader = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  color: var(--major);\r\n  padding: 0 16px;\r\n\r\n  h3 {\r\n    font-weight: 400;\r\n    user-select: none;\r\n  }\r\n`;\r\n\r\nconst StyledGreetingText = styled.div`\r\n  color: var(--gray);\r\n  span {\r\n    color: var(--major);\r\n  }\r\n`;\r\n\r\nconst Header = ({username}) => {\r\n  return (\r\n    <StyledHeader>\r\n      <h3>Tasks</h3>\r\n      <StyledGreetingText>\r\n        Hi <span>{username}</span>\r\n      </StyledGreetingText>\r\n    </StyledHeader>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import clsx from 'clsx';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledAddTodoContainer = styled.div`\r\n  min-height: 52px;\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  word-wrap: break-word;\r\n  word-break: break-word;\r\n  padding: 0 12px;\r\n  box-shadow: 0 17px 0 -16px #e5e5e5;\r\n  flex-wrap: wrap;\r\n\r\n  &.active {\r\n    box-shadow: 0 17px 0 -16px var(--major);\r\n  }\r\n`;\r\n\r\nconst StyledLabelIcon = styled.label`\r\n  display: inline-flex;\r\n  font-size: 30px;\r\n  transition: color 0.2s ease-out;\r\n  font-weight: 300;\r\n\r\n  &:after {\r\n    content: '+';\r\n  }\r\n`;\r\n\r\nconst StyledInputContainer = styled.div`\r\n  min-height: 52px;\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n  user-select: none;\r\n\r\n  input {\r\n    flex: 1;\r\n    padding: 8px 12px;\r\n    border: 0;\r\n    outline: 0;\r\n    font-size: 1rem;\r\n\r\n    &::placeholder {\r\n      color: var(--major);\r\n      font-size: 13px;\r\n    }\r\n  }\r\n  $.active {\r\n    input::placeholder {\r\n      color: var(--gray);\r\n    }\r\n  }\r\n`;\r\n\r\nconst StyledAddTodoActionContainer = styled.div`\r\n  button {\r\n    font-size: 13px;\r\n    color: var(--major);\r\n    padding-right: 5px;\r\n    display: none;\r\n  }\r\n\r\n  &.active {\r\n    button {\r\n      display: block;\r\n    }\r\n  }\r\n`;\r\nconst TodoInput = ({ inputValue, onChange, onAddTodo, onKeyDown }) => {\r\n  return (\r\n    <StyledAddTodoContainer\r\n      className={clsx('', { active: inputValue.length > 0 })}\r\n    >\r\n      <StyledLabelIcon className=\"icon\" htmlFor=\"add-todo-input\" />\r\n      <StyledInputContainer>\r\n        <input\r\n          id=\"add-todo-input\"\r\n          type=\"text\"\r\n          placeholder=\"新增工作\"\r\n          value={inputValue}\r\n          onChange={(e) => {\r\n            onChange?.(e.target.value);\r\n          }}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter') {\r\n              onKeyDown?.();\r\n            }\r\n          }}\r\n        />\r\n      </StyledInputContainer>\r\n      <StyledAddTodoActionContainer\r\n        className={clsx('', { active: inputValue.length > 0 })}\r\n      >\r\n        <button className=\"btn-reset\" onClick={() => onAddTodo?.()}>\r\n          新增\r\n        </button>\r\n      </StyledAddTodoActionContainer>\r\n    </StyledAddTodoContainer>\r\n  );\r\n};\r\n\r\nexport default TodoInput;\r\n","import styled from 'styled-components';\r\nimport {\r\n  CheckActiveIcon,\r\n  CheckCircleIcon,\r\n  CheckHoverIcon,\r\n} from 'assets/images';\r\nimport { clsx } from 'clsx';\r\nimport { useRef } from 'react';\r\nconst StyledTaskItem = styled.div`\r\n  min-height: 52px;\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  word-wrap: break-word;\r\n  word-break: break-word;\r\n  padding: 0 12px;\r\n  box-shadow: 0 17px 0 -16px #e5e5e5;\r\n  flex-wrap: wrap;\r\n\r\n  .task-item-body-input {\r\n    user-select: none;\r\n    display: none;\r\n    flex: 1;\r\n    padding: 8px 0px;\r\n    border: 0;\r\n    outline: 0;\r\n    font-size: 1rem;\r\n\r\n    &::placeholder {\r\n      color: var(--gray);\r\n      font-size: 13px;\r\n    }\r\n  }\r\n\r\n  &:hover {\r\n    background: #fff3eb;\r\n    box-shadow: inset 0 0 0 1px #fff3eb;\r\n\r\n    .task-item-action .btn-destroy {\r\n      display: inline-flex;\r\n    }\r\n  }\r\n\r\n  &.done {\r\n    .task-item-body {\r\n      color: var(--gray);\r\n      text-decoration: line-through;\r\n    }\r\n\r\n    .icon-checked {\r\n      background-image: url(${CheckActiveIcon});\r\n    }\r\n  }\r\n\r\n  &.edit {\r\n    .task-item-body-input {\r\n      display: block;\r\n    }\r\n    .task-item-body-text {\r\n      display: none;\r\n    }\r\n    .task-item-action {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  .task-item-checked {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .task-item-body {\r\n    font-weight: 400;\r\n    padding: 8px 12px;\r\n    flex: 1;\r\n    display: flex;\r\n  }\r\n\r\n  .task-item-action {\r\n    .btn-destroy {\r\n      display: none;\r\n      font-size: 30px;\r\n      transition: color 0.2s ease-out;\r\n      font-weight: 300;\r\n      &:after {\r\n        content: '×';\r\n      }\r\n    }\r\n  }\r\n\r\n  .icon-checked {\r\n    background-image: url(${CheckCircleIcon});\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n\r\n    &:hover {\r\n      transition: background-image 0.5s;\r\n      background-image: url(${CheckHoverIcon});\r\n    }\r\n  }\r\n`;\r\n\r\nconst TodoItem = ({ todo, onChangeMode, onSave, onDelete, onToggleDone }) => {\r\n  const inputRef = useRef(null);\r\n  const handleKeydown = (e) => {\r\n    console.log(e.key)\r\n    if (e.key === 'Enter' && inputRef.current.value.length > 0) {\r\n      onSave?.({ id: todo.id, title: inputRef.current.value });\r\n    }\r\n    if (e.key === 'Escape') {\r\n      inputRef.current.value = todo.title // 自行新增的做法， 因為esc後會保留上次的輸入值 (誤導) 所以新增此項 在取消後讓input value 返回預設\r\n      onChangeMode?.({ id: todo.id, isEdit: false });\r\n    }\r\n  };\r\n  return (\r\n    <StyledTaskItem\r\n      className={clsx('', { done: todo.isDone }, { edit: todo.isEdit })}\r\n    >\r\n      <div className=\"task-item-checked\">\r\n        <span\r\n          id={todo.id}\r\n          className=\"icon icon-checked\"\r\n          onClick={() => onToggleDone?.(todo.id)}\r\n        />\r\n      </div>\r\n      <div\r\n        className=\"task-item-body\"\r\n        onDoubleClick={() => onChangeMode?.({ id: todo.id, isEdit: true })}\r\n      >\r\n        <span className=\"task-item-body-text\">{todo.title}</span>\r\n        <input\r\n          className=\"task-item-body-input\"\r\n          defaultValue={todo.title}\r\n          onKeyDown={handleKeydown}\r\n          ref={inputRef}\r\n        />\r\n      </div>\r\n      <div className=\"task-item-action \">\r\n        <button className=\"btn-reset btn-destroy icon\" onClick={()=>{\r\n          onDelete?.(todo.id)\r\n        }}> </button>\r\n      </div>\r\n    </StyledTaskItem>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","import TodoItem from './TodoItem';\r\n\r\nconst TodoCollection = ({\r\n  todos,\r\n  onChangeMode,\r\n  onSave,\r\n  onDelete,\r\n  onToggleDone,\r\n}) => {\r\n  return (\r\n    <div>\r\n      {todos.map((todo) => {\r\n        return (\r\n          <TodoItem\r\n            key={todo.id}\r\n            todo={todo}\r\n            onToggleDone={(id) => onToggleDone?.(id)}\r\n            onChangeMode={({ id, isEdit }) => {\r\n              onChangeMode?.({ id, isEdit });\r\n            }}\r\n            onSave={({ id, title }) => {\r\n              onSave?.({ id, title });\r\n            }}\r\n            onDelete={(id) => onDelete?.(id)}\r\n          ></TodoItem>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoCollection;\r\n","import styled from 'styled-components';\r\nimport Swal from 'sweetalert2';\r\nimport { useAuth } from './contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst StyledFooter = styled.footer`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  padding: 0 16px;\r\n  p {\r\n    font-size: 14px;\r\n    font-weight: 300;\r\n    margin: 2rem 0 1rem;\r\n  }\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n  padding: 0;\r\n  border: 0;\r\n  background: none;\r\n  vertical-align: baseline;\r\n  appearance: none;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  cursor: pointer;\r\n  outline: 0;\r\n\r\n  font-size: 14px;\r\n  font-weight: 300;\r\n  margin: 2rem 0 1rem;\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nconst Footer = ({ count }) => {\r\n  const { logout } = useAuth();\r\n  const navigate = useNavigate();\r\n  const handleClick = () => {\r\n    Swal.fire({ // \r\n      title: '已登出!',\r\n      text: '頁面將在2秒後自動跳轉!',\r\n      icon: 'success',\r\n      confirmButtonText: '繼續',\r\n      timer: 2000,\r\n      position: 'top',\r\n      willClose: () => {\r\n        logout();\r\n        navigate('/login'); // 注意swal是異步函式 如果navigate放在外部可能會搶先執行並且觸發effect\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <StyledFooter>\r\n      <p>剩餘項目數：{count}</p>\r\n      <StyledButton onClick={handleClick}>登出</StyledButton>\r\n    </StyledFooter>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import {\r\n  AuthContainer,\r\n  AuthInputContainer,\r\n  AuthButton,\r\n  AuthLinkText,\r\n} from 'components/common/auth.styled';\r\nimport { ACLogoIcon } from 'assets/images';\r\nimport { AuthInput } from 'components';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport { useAuth } from 'components/contexts/AuthContext';\r\nconst LoginPage = () => {\r\n  const navigate = useNavigate(); // 記得在組件內\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const { login, isAuthenticated } = useAuth();\r\n  const [success, setSuccess] = useState(false);\r\n  const handleClick = async () => {\r\n    if (username.length < 0 || password.length < 0) return;\r\n    setSuccess(\r\n      await login({\r\n        username,\r\n        password,\r\n      }),\r\n    );\r\n    Swal.fire({\r\n      title: '登入失敗!',\r\n      text: '帳號或密碼錯誤',\r\n      icon: 'error',\r\n      confirmButtonText: '重試',\r\n      timer: 2000,\r\n      position: 'top',\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      if (success) {\r\n        Swal.fire({\r\n          title: '已登入!',\r\n          text: '頁面將在2秒後自動跳轉!',\r\n          icon: 'success',\r\n          confirmButtonText: '繼續',\r\n          timer: 2000,\r\n          position: 'top',\r\n          willClose: () => {\r\n            navigate('/todo');\r\n          },\r\n        });\r\n      } else {\r\n        Swal.fire({\r\n          title: '已經是登入狀態!',\r\n          text: '頁面將在2秒後自動跳轉!',\r\n          icon: 'success',\r\n          confirmButtonText: '繼續',\r\n          timer: 2000,\r\n          position: 'top',\r\n          willClose: () => {\r\n            navigate('/todo');\r\n          },\r\n        });\r\n      }\r\n    }\r\n  }, [success, isAuthenticated]); // AC的作法會將navigate掛載dep 然而navigate是一個函式並且不會更新，不建議這樣做\r\n  return (\r\n    <AuthContainer>\r\n      <div>\r\n        <ACLogoIcon />\r\n      </div>\r\n      <h1>登入 Todo</h1>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n          label=\"帳號\"\r\n          placeholder=\"請輸入帳號\"\r\n          value={username}\r\n          onChange={(nameInputValue) => {\r\n            setUsername(nameInputValue);\r\n          }}\r\n        />\r\n      </AuthInputContainer>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n          type=\"password\"\r\n          label=\"密碼\"\r\n          placeholder=\"請輸入密碼\"\r\n          value={password}\r\n          onChange={(passwordInputValue) => {\r\n            setPassword(passwordInputValue);\r\n          }}\r\n        />\r\n      </AuthInputContainer>\r\n      <AuthButton onClick={handleClick}>登入</AuthButton>\r\n\r\n      <Link to=\"/signup\">\r\n        <AuthLinkText>註冊</AuthLinkText>\r\n      </Link>\r\n    </AuthContainer>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import {\r\n  AuthContainer,\r\n  AuthInputContainer,\r\n  AuthButton,\r\n  AuthLinkText,\r\n} from 'components/common/auth.styled';\r\nimport { ACLogoIcon } from 'assets/images';\r\nimport { AuthInput } from 'components';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport { useAuth } from 'components/contexts/AuthContext';\r\n\r\nconst SignUpPage = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [success, setSuccess] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { register, isAuthenticated } = useAuth();\r\n  const handleClick = async () => {\r\n    if (username.length < 0 || (password.length < 0 && email.length < 0)) {\r\n      return;\r\n    }\r\n    setSuccess(\r\n      await register({\r\n        username,\r\n        email,\r\n        password,\r\n      }),\r\n    );\r\n    Swal.fire({\r\n      title: '註冊失敗!',\r\n      text: '欄位錯誤或帳號已被使用!',\r\n      icon: 'error',\r\n      confirmButtonText: '重試',\r\n      timer: 3000,\r\n      position: 'top',\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      if (success) {\r\n        Swal.fire({\r\n          title: '註冊成功!',\r\n          text: '頁面將在2秒後自動跳轉!',\r\n          icon: 'success',\r\n          confirmButtonText: '繼續',\r\n          timer: 2000,\r\n          position: 'top',\r\n          willClose: () => {\r\n            navigate('/todo');\r\n          },\r\n        });\r\n      } else {\r\n        Swal.fire({\r\n          title: '已經是登入狀態!',\r\n          text: '頁面將在2秒後自動跳轉!',\r\n          icon: 'success',\r\n          confirmButtonText: '繼續',\r\n          timer: 2000,\r\n          position: 'top',\r\n          willClose: () => {\r\n            navigate('/todo');\r\n          },\r\n        });\r\n      }\r\n    }\r\n  }, [success, isAuthenticated]); // AC的作法會將navigate掛載dep 然而navigate是一個函式並且不會更新，不建議這樣做\r\n\r\n  return (\r\n    <AuthContainer>\r\n      <div>\r\n        <ACLogoIcon />\r\n      </div>\r\n      <h1>建立您的帳號</h1>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n          label=\"帳號\"\r\n          placeholder=\"請輸入帳號\"\r\n          value={username}\r\n          onChange={(nameInputValue) => {\r\n            setUsername(nameInputValue);\r\n          }}\r\n        />\r\n      </AuthInputContainer>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n          label=\"信箱\"\r\n          placeholder=\"請輸入信箱\"\r\n          value={email}\r\n          onChange={(emailInputValue) => {\r\n            setEmail(emailInputValue);\r\n          }}\r\n        />\r\n      </AuthInputContainer>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n          type=\"password\"\r\n          label=\"密碼\"\r\n          placeholder=\"請輸入密碼\"\r\n          value={password}\r\n          onChange={(passwordInputValue) => {\r\n            setPassword(passwordInputValue);\r\n          }}\r\n        />\r\n      </AuthInputContainer>\r\n\r\n      <AuthButton onClick={handleClick}>註冊</AuthButton>\r\n      <Link to=\"/login\">\r\n        <AuthLinkText>登入</AuthLinkText>\r\n      </Link>\r\n    </AuthContainer>\r\n  );\r\n};\r\n\r\nexport default SignUpPage;\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = 'https://todo-list.alphacamp.io/api';\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: baseUrl,\r\n});\r\n\r\naxiosInstance.interceptors.request.use( // 設置攔截器，所有axios實例發出請求前設置header config\r\n  (config) => {\r\n    const token = localStorage.getItem('authToken');\r\n    if (token) config.headers['Authorization'] = `Bearer ${token}`;\r\n    return config;\r\n  },\r\n  (error) => console.log(error),\r\n);\r\n\r\nconst getTodos = async () => {\r\n  try {\r\n    const res = await axiosInstance.get(`${baseUrl}/todos`);\r\n    console.log(res)\r\n    return res.data.data;\r\n  } catch (error) {\r\n    console.log('[Get Todos failed]', error);\r\n  }\r\n};\r\n\r\nconst createTodo = async (payload) => {\r\n  try {\r\n    const { title, isDone } = payload;\r\n\r\n    const res = await axiosInstance.post(`${baseUrl}/todos/`, {\r\n      title,\r\n      isDone,\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log('[Post Todos failed]', error);\r\n  }\r\n};\r\nconst patchTodo = async (payload) => {\r\n  const { title, id, isDone } = payload;\r\n  try {\r\n    const res = await axiosInstance.patch(`${baseUrl}/todos/${id}`, {\r\n      title,\r\n      id,\r\n      isDone,\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log('[Patch Todos failed]', error);\r\n  }\r\n};\r\nconst deleteTodo = async (id) => {\r\n  try {\r\n    const res = await axiosInstance.delete(`${baseUrl}/todos/${id}`);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.log('[Delete Todos failed]', error);\r\n  }\r\n};\r\n\r\nexport { getTodos, createTodo, patchTodo, deleteTodo };\r\n","import { Footer, Header, TodoCollection, TodoInput } from 'components';\r\nimport { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getTodos, createTodo, patchTodo, deleteTodo } from '../api/todos';\r\nimport { useAuth } from 'components/contexts/AuthContext';\r\nimport Swal from 'sweetalert2';\r\nconst TodoPage = () => {\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [todos, setTodos] = useState([]);\r\n  const navigate = useNavigate();\r\n  const { isAuthenticated, currentMember } = useAuth();\r\n  const handleChange = (value) => {\r\n    setInputValue(value);\r\n  };\r\n  const handleAddTodo = async () => {\r\n    if (inputValue.length === 0) return;\r\n    try {\r\n      const data = await createTodo({\r\n        title: inputValue,\r\n        isDone: false,\r\n      });\r\n      setTodos((prevTodos) => {\r\n        return [\r\n          ...prevTodos,\r\n          {\r\n            title: data.title,\r\n            isDone: data.isDone,\r\n            id: data.id,\r\n            isEdit: false,\r\n          },\r\n        ];\r\n      });\r\n      setInputValue(''); // 新增完一項要重製輸入欄位\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const handleKeyDown = async () => {\r\n    if (inputValue.length === 0) return;\r\n    try {\r\n      const data = await createTodo({\r\n        title: inputValue,\r\n        isDone: false,\r\n      });\r\n      setTodos((prevTodos) => {\r\n        return [\r\n          ...prevTodos,\r\n          {\r\n            title: data.title,\r\n            isDone: data.isDone,\r\n            id: data.id,\r\n            isEdit: false,\r\n          },\r\n        ];\r\n      });\r\n      setInputValue(''); // 新增完一項要重製輸入欄位\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const handleToggleDone = async (id) => {\r\n    const selectTodo = todos.find((todo) => todo.id === id);\r\n    try {\r\n      await patchTodo({ id, isDone: !selectTodo.isDone });\r\n      setTodos((todos) => {\r\n        return todos.map((todo) => {\r\n          if (todo.id === id) {\r\n            return {\r\n              ...todo,\r\n              isDone: !todo.isDone,\r\n            };\r\n          }\r\n          return todo;\r\n        });\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const handleChangeMode = ({ id, isEdit }) => {\r\n    setTodos((todos) => {\r\n      return todos.map((todo) => {\r\n        if (todo.id === id) return { ...todo, isEdit: isEdit };\r\n        return { ...todo, isEdit: false };\r\n      });\r\n    });\r\n  };\r\n  const handleSave = async ({ id, title }) => {\r\n    try {\r\n      await patchTodo({ id, title });\r\n      setTodos((todos) => {\r\n        return todos.map((todo) => {\r\n          if (todo.id === id) return { ...todo, title: title, isEdit: false };\r\n          return todo;\r\n        });\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteTodo(id);\r\n      setTodos((todos) => {\r\n        return todos.filter((todo) => {\r\n          return todo.id !== id;\r\n        });\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getTodosAsync = async () => {\r\n      try {\r\n        const todos = await getTodos();\r\n        setTodos(\r\n          todos.map((todo) => {\r\n            return { ...todo, isEdit: false };\r\n          }),\r\n        );\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    getTodosAsync();\r\n  }, []);\r\n  useEffect(() => {\r\n    if (isAuthenticated === false) {\r\n      Swal.fire({\r\n        title: '未登入!',\r\n        text: '頁面將在2秒後自動跳轉!',\r\n        icon: 'success',\r\n        confirmButtonText: '繼續',\r\n        timer: 2000,\r\n        position: 'top',\r\n        willClose: () => {\r\n          navigate('/login');\r\n        },\r\n      });\r\n    }\r\n  }, [isAuthenticated]); // 雖然AC會放navigate但實際上不推薦，navigate並非會改變的依賴項\r\n  return (\r\n    <div>\r\n      TodoPage\r\n      <Header username={currentMember?.name} />\r\n      <TodoInput\r\n        inputValue={inputValue}\r\n        onChange={handleChange}\r\n        onAddTodo={handleAddTodo}\r\n        onKeyDown={handleKeyDown}\r\n      />\r\n      <TodoCollection\r\n        todos={todos}\r\n        onToggleDone={handleToggleDone}\r\n        onChangeMode={handleChangeMode}\r\n        onSave={handleSave}\r\n        onDelete={handleDelete}\r\n      />\r\n      <Footer count={todos.length} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoPage;\r\n","import { AuthProvider } from 'components/contexts/AuthContext';\r\nimport './App.scss';\r\nimport { TodoPage, LoginPage, SignUpPage, HomePage } from './pages';\r\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\r\n\r\nfunction App() {\r\n  const basename = process.env.REACT_APP_PUBLIC_URL;\r\n  return (\r\n    <div className=\"app\">\r\n      <BrowserRouter basename={basename}>\r\n        <AuthProvider>\r\n          <Routes>\r\n            <Route path=\"login\" element={<LoginPage />}></Route>\r\n            <Route path=\"signup\" element={<SignUpPage />}></Route>\r\n            <Route path=\"todo\" element={<TodoPage />}></Route>\r\n            <Route path=\"*\" element={<HomePage />}></Route>\r\n            <Route></Route>\r\n          </Routes>\r\n        </AuthProvider>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}